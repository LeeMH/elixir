# Function Components

## 강의 주요 내용

* function component 란?
* function componet 생성 방법


### 1. function component 란?

* web page를 만들면 당연히 중복된 코드가 다량으로 발생한다.
* HEEx 템플릿에서 elixir 함수 결과를 사용할 수 있도록 만든 것을 function component라 한다.

### 2. function component 생성 방법

* parameter 전달은 `tag 속성으로 전달`하는 방법과 `innter text로 전달`하는 2가지 방법이 있다.
* tag 속성 전달
   + 전달은 `속성명={value}` 형태로 사용
   + 사용(함수 컴포넌트)은 `@속성명` 형태로 사용한다.
* inner text 전달
   - 별도로 명명하지 않으면, `render_slot(@inner_block)` 으로 사용
   - 별도 명명시 `<:명칭>value<:명칭>` 형태로 전달
   - 사용은 `render_slot(@명칭)` 형태로 사용
* 함수 컴포넌트 안에서 `다른 함수 호출도 가능`
* 아래 예제에서 `<Heroicons.exclamation_circle/>`는 Heroicons 모듈의 exclamation_circle 함수를 호출한 것이다.

```elixir
  def render(assigns) do
    ~H"""
    <h1>Daily Boat Rentals</h1>

    ## function component 호출부분
    ## 동일 모듈에 있기 때문에, 점(.)함수명으로 명명한다.
    <.promo expiration={2}>
      Save 25% Deal!
      <:legal>
        <Heroicons.exclamation_circle/>Limit 1 per party
      </:legal>
    </.promo>

    <div id="boats">
    ...
    ...
    ## 컴포넌트 이기 때문에 반복해서 사용 가능하다.
    <.promo expiration={1}>
      Hurry up!. Only 1 left.
      <:legal>
        only today
      </:legal>
    </.promo>
    """
  end

  def promo(assigns) do
    ~H"""
    <div class="promo">
      <div class="deal">
        <%= render_slot(@inner_block) %>
      </div>
      <div class="expiration">
        Deal expires in <%= @expiration %>
      </div>
      <div class="legal">
        <%= render_slot(@legal) %>
      </div>
    </div>
    """
  end
```